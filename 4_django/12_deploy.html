
<!DOCTYPE html>


<html lang="cs" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RZX7DQPSHE"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-RZX7DQPSHE');
    </script>
    
    <title>Produkční prostředí &#8212; Webové aplikace</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=87e54e7c" />
    <link rel="stylesheet" type="text/css" href="../_static/local.css?v=1256093c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=4cdba38b"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../_static/translations.js?v=22e1c300"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs"></script>
    <script type="module">import mermaid from "https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs";import elkLayouts from "https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs";mermaid.registerLayoutLoaders(elkLayouts);mermaid.initialize({startOnLoad:false});</script>
    <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
    <script type="module">
import mermaid from "https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs";
window.addEventListener("load", () => mermaid.run());
</script>
    <script>DOCUMENTATION_OPTIONS.pagename = '4_django/12_deploy';</script>
    <link rel="icon" href="../_static/favicon.png"/>
    <link rel="index" title="Rejstřík" href="../genindex.html" />
    <link rel="search" title="Vyhledávání" href="../search.html" />
    <link rel="next" title="HTTP" href="../5_protocols/01_http.html" />
    <link rel="prev" title="Cookies, sessions a uživatelé" href="10_sessions.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="cs"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Přejít k hlavnímu obsahu</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Zpět na začátek</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">Webové aplikace</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Vyhledávání" aria-label="Vyhledávání" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Vyhledávání</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Úvod</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../0_introduction/01_overview.html">Úvod do internetových technologií</a></li>
<li class="toctree-l1"><a class="reference internal" href="../0_introduction/04_git.html">Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../0_introduction/05_markdown.html">Markdown</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Statický web</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../1_static/01_html.html">HTML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1_static/02_css.html">Základy CSS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1_static/03_layouts.html">CSS Layouty</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1_static/04_bootstrap.html">Bootstrap framework</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">JavaScript</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../2_javascript/01_intro.html">Seznámení s JavaScriptem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2_javascript/02_blocks.html">Řídící bloky</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2_javascript/03_methods.html">Funkce a třídy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2_javascript/04_modules.html">Moduly v JavaScriptu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2_javascript/05_dom.html">Document Object Model</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Python</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../3_python/01_intro.html">Seznámení s jazykem Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_python/02_types.html">Datové typy v Pythonu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_python/03_blocks.html">Řídící bloky</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_python/04_methods.html">Funkce a třídy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_python/05_packages.html">Balíčky</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_python/06_pip.html">PIP, Python Virtual Environment</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Django</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01_framework.html">Webové frameworky</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_project.html">Seznámení s Django</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_views.html">Pohledy</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_templates.html">Šablony</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_models.html">Modely a ORM</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_admin.html">Admin rozhraní</a></li>
<li class="toctree-l1"><a class="reference internal" href="07_fixtures.html">Fixtures</a></li>
<li class="toctree-l1"><a class="reference internal" href="08_forms.html">Formuláře</a></li>
<li class="toctree-l1"><a class="reference internal" href="09_files.html">Práce se soubory</a></li>
<li class="toctree-l1"><a class="reference internal" href="10_sessions.html">Cookies, sessions a uživatelé</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Produkční prostředí</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Webové protokoly</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../5_protocols/01_http.html">HTTP</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Webdesign</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../6_webdesign/01_wireframe.html">Wireframe návrh</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Ostatní</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../7_other/04_console.html">Základy práce v konzoli</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Materiály</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../materials.html">Materiály k výuce</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Stáhněte si tuto stránku">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/4_django/12_deploy.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Stáhněte si zdrojový soubor"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Tisk do PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Režim celé obrazovky"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="světlý/tmavý" aria-label="světlý/tmavý" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Vyhledávání" aria-label="Vyhledávání" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Produkční prostředí</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Obsah </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nginx-gunicorn-postgresql">NGINX + gunicorn + PostgreSQL</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nginx">NGINX</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gunicorn">gunicorn</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#gunicorn-demon">gunicorn démon</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#postgresql">PostgreSQL</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#google-cloud">Google Cloud</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pouziti-svs">Použití SVS</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="produkcni-prostredi">
<h1>Produkční prostředí<a class="headerlink" href="#produkcni-prostredi" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.djangoproject.com/en/5.1/howto/deployment/">Dokumentace Django - deployment</a></p></li>
<li><p><a class="reference external" href="https://docs.djangoproject.com/en/5.1/howto/deployment/checklist/">Dokumentace Django - deployment checklist</a></p></li>
<li><p><a class="reference external" href="https://cloud.google.com/python/django/appengine">Návod na spuštění ve službě Google Cloud</a></p></li>
<li><p><a class="reference external" href="https://gist.github.com/kristiankunc/cc58b0d963d3a528f184c8863ce7a5fd">Návod na spuštění na Gyarab SVS</a></p></li>
</ul>
<p>Doposud jsme vyvíjeli Django aplikaci na vývojovém serveru, který se spouští příkazem</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>manage.py<span class="w"> </span>runserver
</pre></div>
</div>
<p>Vývojový server je navržen tak, aby se s jeho pomocí aplikace snadno a rychle vyvíjela. Automaticky například detekuje změny v Python modulech, šablonách, poskytuje statické soubory a media soubory atd… Není ale zejména kvůli výkonu a bezpečnosti vhodný při nasazení v ostrém provozu (produkční prostředí).</p>
<p>Před spuštěním Django aplikace v produkčním prostředí je potřeba provést následující kroky:</p>
<ol class="arabic">
<li><p><strong>Vypnutí debug módu</strong>
V souboru <code class="docutils literal notranslate"><span class="pre">settings.py</span></code> projektu vypněte debug mód:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># my_project/settings.py</span>

<span class="n">DEBUG</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<p>Vypnutí debug módu má například následující důsledky na chod aplikace:</p>
<ul class="simple">
<li><p><strong>Chybové hlášky</strong>: Django zobrazí uživatelsky přívětivé chybové stránky místo podrobných chybových zpráv, které jsou určeny pro vývojáře.</p></li>
<li><p><strong>Bezpečnost</strong>: Podrobné chybové zprávy, které jsou zobrazeny při zapnutém debug módu, mohou odhalit citlivé informace o vaší aplikaci. Nastavení <code class="docutils literal notranslate"><span class="pre">DEBUG</span> <span class="pre">=</span> <span class="pre">False</span></code> zvyšuje bezpečnost tím, že tyto informace skryje.</p></li>
<li><p><strong>Statické soubory</strong>: Django nebude automaticky obsluhovat statické soubory. V produkčním prostředí by měly být statické soubory obsluhovány webovým serverem, jako je Nginx nebo Apache.</p></li>
<li><p><strong>Výkon</strong>: Některé optimalizace a cache jsou aktivovány pouze při <code class="docutils literal notranslate"><span class="pre">DEBUG</span> <span class="pre">=</span> <span class="pre">False</span></code>, což může zlepšit výkon vaší aplikace.</p></li>
</ul>
</li>
<li><p><strong>Nastavení <code class="docutils literal notranslate"><span class="pre">ALLOWED_HOSTS</span></code></strong></p>
<p>Dále musíte nastavit <code class="docutils literal notranslate"><span class="pre">ALLOWED_HOSTS</span></code>, což je seznam domén, které mohou obsluhovat vaši aplikaci. Pokud není správně nastaven, Django odmítne požadavky z neznámých domén.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># my_project/settings.py</span>

<span class="n">ALLOWED_HOSTS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;example.com&#39;</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p><strong>Statické soubory</strong></p>
<p>Před nasazením aplikace do produkčního prostředí je potřeba připravit statické soubory. Nejprve se ujistěte, že máte nastaven adresář <code class="docutils literal notranslate"><span class="pre">STATIC_ROOT</span></code>, kde bude webový server statické soubory hledat:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># my_project/settings.py</span>

<span class="n">STATIC_ROOT</span> <span class="o">=</span> <span class="n">BASE_DIR</span> <span class="o">/</span> <span class="s1">&#39;static&#39;</span>
</pre></div>
</div>
<p>Dále spusťte příkaz <code class="docutils literal notranslate"><span class="pre">collectstatic</span></code>, který zkopíruje všechny statické soubory do adresáře <code class="docutils literal notranslate"><span class="pre">STATIC_ROOT</span></code>:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>manage.py<span class="w"> </span>collectstatic
</pre></div>
</div>
</li>
<li><p><strong>Media soubory</strong></p>
<p>Media soubory jsou soubory nahrané uživateli, jako jsou obrázky, videa nebo dokumenty. Tyto soubory by měly být uloženy v adresáři, který je přístupný webovým serverem. Zkontrolujte proto nastavení <code class="docutils literal notranslate"><span class="pre">MEDIA_ROOT</span></code> v konfiguračním souboru <code class="docutils literal notranslate"><span class="pre">settings.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># my_project/settings.py</span>

<span class="n">MEDIA_ROOT</span> <span class="o">=</span> <span class="n">BASE_DIR</span> <span class="o">/</span> <span class="s1">&#39;media&#39;</span>
</pre></div>
</div>
</li>
<li><p><strong>Nastavení <code class="docutils literal notranslate"><span class="pre">SECRET_KEY</span></code></strong>:</p>
<p><code class="docutils literal notranslate"><span class="pre">SECRET_KEY</span></code> je důležité nastavení v Django projektu, které se používá se pro různé kryptografické operace, jako je podepisování cookies, generování bezpečnostních tokenů a další bezpečnostní funkce. Klíč <code class="docutils literal notranslate"><span class="pre">SECRET_KEY</span></code> by měl být dostatečně dlouhý, náhodný řetězec. Je důležité, aby byl tento klíč tajný a unikátní pro každý projekt.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># my_project/settings.py</span>

<span class="n">SECRET_KEY</span> <span class="o">=</span> <span class="s1">&#39;some-long-random-string&#39;</span>
</pre></div>
</div>
<p>Nikdy nesdílejte svůj <code class="docutils literal notranslate"><span class="pre">SECRET_KEY</span></code> veřejně a nepoužívejte výchozí hodnotu v produkčním prostředí.</p>
</li>
</ol>
<p>Úplný seznam nastavení, která je vhodné před ostrým spuštěním zkontrolovat, naleznete <a class="reference external" href="https://docs.djangoproject.com/en/5.1/howto/deployment/checklist/">dokumentaci</a>. Můžete také spustit příkaz</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>manage.py<span class="w"> </span>check<span class="w"> </span>--deploy
</pre></div>
</div>
<p>který zkontroluje zda-li je nastavení aplikace připraveno pro ostrý provoz a vypíše případné problémy.</p>
<p>Nyní když máme aplikaci připravenu, můžeme ji spustit v produkčním prostředí. Možností jak a kde Django aplikaci spustit existuje celá řada, pojďme si některé ukázat.</p>
<section id="nginx-gunicorn-postgresql">
<h2>1.&nbsp;&nbsp;NGINX + gunicorn + PostgreSQL<a class="headerlink" href="#nginx-gunicorn-postgresql" title="Link to this heading">#</a></h2>
<p>Kombinace webového serveru <a class="reference external" href="https://nginx.org/">NGINX</a>, webového serveru <a class="reference external" href="https://gunicorn.org/">gunicorn</a> a databáze <a class="reference external" href="https://www.postgresql.org/">PostgreSQL</a> je oblíbenou kombinací pro ostrý provoz Django projektů na linuxových distribucích.</p>
<section id="nginx">
<h3>1.1.&nbsp;&nbsp;NGINX<a class="headerlink" href="#nginx" title="Link to this heading">#</a></h3>
<p>NGINX je populární a výkoný webový server, který lze použít i po běh Django aplikací. Pro instalaci serveru NGINX na debian based linux distribucích použijte příkazy:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>nginx
</pre></div>
</div>
<p>Dále vytvořte nový konfigurační soubor pro váš projekt v <code class="docutils literal notranslate"><span class="pre">/etc/nginx/sites-available/</span></code>:</p>
<div class="highlight-nginx notranslate"><div class="highlight"><pre><span></span><span class="c1"># /etc/nginx/sites-available/example.com</span>
<span class="k">server</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="mi">80</span><span class="p">;</span>
<span class="w">    </span><span class="kn">server_name</span><span class="w"> </span><span class="s">example.com</span><span class="p">;</span>

<span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kn">proxy_pass</span><span class="w"> </span><span class="s">http://unix:/tmp/gunicorn.sock</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">Host</span><span class="w"> </span><span class="nv">$host</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">X-Real-IP</span><span class="w"> </span><span class="nv">$remote_addr</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">X-Forwarded-For</span><span class="w"> </span><span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">X-Forwarded-Proto</span><span class="w"> </span><span class="nv">$scheme</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/static/</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kn">alias</span><span class="w"> </span><span class="s">/path/to/your/project/static/</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/media/</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kn">alias</span><span class="w"> </span><span class="s">/path/to/your/project/media/</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Doménu <code class="docutils literal notranslate"><span class="pre">example.com</span></code> upravte podle toho, kde budete chtít aplikaci provozovat. Dále nastavte správné cesty k vašim media a static souborům. Konfigurační soubor je potřeba ještě aktivovat vytvořením odkazu ve složce <code class="docutils literal notranslate"><span class="pre">/etc/nginx/sites-enabled/</span></code> a restartováním webového serveru nginx:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>/etc/nginx/sites-available/example.com<span class="w"> </span>/etc/nginx/sites-enabled/
sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>nginx
</pre></div>
</div>
<p>Více informací o konfiguraci NGINX serveru naleznete v <a class="reference external" href="https://docs.nginx.com/nginx/admin-guide/basic-functionality/managing-configuration-files/">dokumentaci</a>.</p>
</section>
<section id="gunicorn">
<h3>1.2.&nbsp;&nbsp;gunicorn<a class="headerlink" href="#gunicorn" title="Link to this heading">#</a></h3>
<p>Dále je potřeba spustit samotnou Django aplikaci, což lze udělat pomocí serveru gunicorn, který umí Django aplikace spouštět pomocí rozhraní <a class="reference external" href="https://en.wikipedia.org/wiki/Web_Server_Gateway_Interface">WSGI</a> rozhraní.</p>
<p>Nejprve se ujistěte, že máte gunicorn nainstalovaný:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>gunicorn
</pre></div>
</div>
<p>A poté spusťte aplikaci pomocí <code class="docutils literal notranslate"><span class="pre">gunicorn</span></code> z adresáře projektu:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>gunicorn<span class="w"> </span>--workers<span class="w"> </span><span class="m">3</span><span class="w"> </span>--bind<span class="w"> </span>unix:/tmp/gunicorn.sock<span class="w"> </span>my_project.wsgi:application<span class="w"> </span>
</pre></div>
</div>
<p>Nebo pokud potřebujete pustit <code class="docutils literal notranslate"><span class="pre">gunicorn</span></code> na TCP portu místo unix soketu použijte příkaz</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>gunicorn<span class="w"> </span>--workers<span class="w"> </span><span class="m">3</span><span class="w"> </span>--bind<span class="w"> </span>:12345<span class="w"> </span>my_project.wsgi:application<span class="w"> </span>
</pre></div>
</div>
<p>Kde <code class="docutils literal notranslate"><span class="pre">12345</span></code> je číslo portu, na kterém má <code class="docutils literal notranslate"><span class="pre">gunicorn</span></code> poslouchat.</p>
<div class="tip admonition">
<p class="admonition-title">Změny v projektu</p>
<p>Server gunicorn na rozdíl od Django vývojového serveru nehlídá automaticky změny v souborech. Pokud tedy provedete nějakou změnu na vašem projektu, je potřeba gunicorn server restartovat, aby se změny projevily.</p>
</div>
<p>Server gunicorn má řadu parametrů, jak ho lze nakonfigurovat:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">--workers</span></code></strong>: Počet <em>workerů</em> (paralelních procesů), které budou zpracovávat požadavky. Čím více workerů, tím více uživatelů najednou může server obsluhovat, ale tím více zdrojů (RAM, CPU) serveru bude gunicorn využívat. Pro optimální využití dostupného výkonu se doporučuje nastavit na počet CPU jader * 2 + 1.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">--bind</span></code></strong>: Adresa a port nebo Unix socket, na kterém bude gunicorn naslouchat na příchozí požadavky. Odpovídá nastavení proxy pass u nginx.  V tomto případě je použit Unix socket <code class="docutils literal notranslate"><span class="pre">/tmp/gunicorn.sock</span></code>.</p></li>
</ul>
<p>Pro kompletní výpis všech konfiguračních parametrů navštivte <a class="reference external" href="https://docs.gunicorn.org/en/stable/settings.html">dokumentaci gunicorn</a>.</p>
<section id="gunicorn-demon">
<h4>gunicorn démon<a class="headerlink" href="#gunicorn-demon" title="Link to this heading">#</a></h4>
<p>Abychom nemuseli pouštět gunicorn ručně, je šikovné využít nástroj <code class="docutils literal notranslate"><span class="pre">systemd</span></code> (který je obvykle součástí linuxových distribucí), který spravuje různé služby (service) jako webové či databázové servery a zajišťuje jejich automatické spouštění při startu systému. Pro vytvoření nové <code class="docutils literal notranslate"><span class="pre">systemd</span></code> služby postupujte následovně:</p>
<ol class="arabic">
<li><p><strong>Vytvoření souboru služby</strong></p>
<p>Vytvořte nový soubor služby v adresáři <code class="docutils literal notranslate"><span class="pre">/etc/systemd/system/</span></code> s názvem <code class="docutils literal notranslate"><span class="pre">gunicorn.service</span></code>:</p>
<p>Do souboru <code class="docutils literal notranslate"><span class="pre">gunicorn.service</span></code> vložte následující konfiguraci. Upravte cesty a názvy podle vašeho projektu:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># /etc/systemd/system/gunicorn.service</span>

<span class="k">[Unit]</span>
<span class="na">Description</span><span class="o">=</span><span class="s">gunicorn daemon for Django project</span>
<span class="na">After</span><span class="o">=</span><span class="s">network.target</span>

<span class="k">[Service]</span>
<span class="na">User</span><span class="o">=</span><span class="s">www-data</span>
<span class="na">Group</span><span class="o">=</span><span class="s">www-data</span>
<span class="na">WorkingDirectory</span><span class="o">=</span><span class="s">/path/to/your/project</span>
<span class="na">ExecStart</span><span class="o">=</span><span class="s">/path/to/your/project/.venv/bin/gunicorn --workers 3 --bind unix:/tmp/gunicorn.sock my_project.wsgi:application</span>

<span class="k">[Install]</span>
<span class="na">WantedBy</span><span class="o">=</span><span class="s">multi-user.target</span>
</pre></div>
</div>
</li>
<li><p><strong>Povolení a nastartování služby</strong></p>
<p>Povolte a nastartuje gunicorn službu pomocí příkazů:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>gunicorn
sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>gunicorn
</pre></div>
</div>
</li>
<li><p><strong>Kontrola stavu služby</strong></p>
<p>Zkontrolujte stav služby, abyste se ujistili, že běží správně:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>gunicorn
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<section id="postgresql">
<h3>1.3.&nbsp;&nbsp;PostgreSQL<a class="headerlink" href="#postgresql" title="Link to this heading">#</a></h3>
<p>PostgreSQL je výkonný a open-source relační databázový systém, který je často používán s Django aplikacemi. Následující kroky vás provedou instalací a konfigurací PostgreSQL pro vaši Django aplikaci.</p>
<ol class="arabic">
<li><p><strong>Instalace PostgreSQL</strong></p>
<p>Na debian-based distribucích Linuxu můžete PostgreSQL nainstalovat pomocí následujících příkazů:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>postgresql
</pre></div>
</div>
</li>
<li><p><strong>Vytvoření databáze a uživatele</strong></p>
<p>Po instalaci PostgreSQL je potřeba vytvořit novou databázi a uživatele. Nejprve se přihlaste do PostgreSQL shellu jako uživatel <code class="docutils literal notranslate"><span class="pre">postgres</span></code>:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>-u<span class="w"> </span>postgres<span class="w"> </span>psql
</pre></div>
</div>
<p>V PostgreSQL shellu vytvořte novou databázi a uživatele:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">myproject</span><span class="p">;</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">USER</span><span class="w"> </span><span class="n">myprojectuser</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="n">PASSWORD</span><span class="w"> </span><span class="s1">&#39;secure-password&#39;</span><span class="p">;</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">myproject</span><span class="w"> </span><span class="k">OWNER</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">myprojectuser</span><span class="p">;</span>
</pre></div>
</div>
<p>Nastavte správná oprávnění pro nového uživatele:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">GRANT</span><span class="w"> </span><span class="k">ALL</span><span class="w"> </span><span class="k">PRIVILEGES</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">myproject</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">myprojectuser</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p><strong>Instalace PostgreSQL knihovny pro Python</strong></p>
<p>Pro komunikaci s PostgreSQL z Django aplikace je potřeba nainstalovat knihovnu <code class="docutils literal notranslate"><span class="pre">psycopg2</span></code>:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>psycopg2-binary
</pre></div>
</div>
</li>
<li><p><strong>Konfigurace Django projektu</strong></p>
<p>Otevřete soubor <code class="docutils literal notranslate"><span class="pre">settings.py</span></code> ve vašem Django projektu a upravte nastavení <code class="docutils literal notranslate"><span class="pre">DATABASES</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># my_project/settings.py</span>

<span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s1">&#39;django.db.backends.postgresql&#39;</span><span class="p">,</span>
        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;myproject&#39;</span><span class="p">,</span>
        <span class="s1">&#39;USER&#39;</span><span class="p">:</span> <span class="s1">&#39;myprojectuser&#39;</span><span class="p">,</span>
        <span class="s1">&#39;PASSWORD&#39;</span><span class="p">:</span> <span class="s1">&#39;secure-password&#39;</span><span class="p">,</span>
        <span class="s1">&#39;HOST&#39;</span><span class="p">:</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span>
        <span class="s1">&#39;PORT&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p><strong>Migrace databáze</strong></p>
<p>Po konfiguraci databáze spusťte migrace, aby se vytvořily potřebné tabulky v PostgreSQL:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>manage.py<span class="w"> </span>migrate
</pre></div>
</div>
</li>
</ol>
<p>Tato konfigurace vytvoří nastavení, kdy server NGINX přebírá požadavky z Internetu, a pokud URL směřuje na adresář se statickými soubory (<code class="docutils literal notranslate"><span class="pre">STATIC_ROOT</span></code>), nebo na adresář s media soubory (<code class="docutils literal notranslate"><span class="pre">MEDIA_ROOT</span></code>), rovnou tyto soubory vrátí klientovi. Ostatní požadavky směřuje na server gunicorn, který má spuštěnou samotnou Django aplikaci, která požadavek zpracuje. Takové spojení jako zde (NGINX - gunicorn), kdy webserver přeposílá požadavky dalšímu serveru se označuje jako <strong>Reverse Proxy</strong> (<strong>reverzní proxy</strong>) případně <strong>Proxy Pass</strong>. Samotný Django projekt pak komunikuje s databází PostgreSQL.</p>
<pre  class="mermaid">
        graph LR;
    A[Webový prohlížeč] &lt;--&gt; I(Internet)
    I &lt;--&gt;B[NGINX]
    B &lt;--&gt;|Static files| D[STATIC_ROOT]
    B &lt;--&gt;|Media files| E[MEDIA_ROOT]
    B &lt;--&gt;|Proxy pass| AS[Gunicorn]
    DB[(PostgreSQL)]

    subgraph FS[File Storage]
        D
        E
    end
    subgraph AS[gunicorn]
        C[Django projekt]
    end
    subgraph WS[Server]
        B
        FS
        AS
        C &lt;--&gt; DB
    end
    subgraph CL[Klient]
        A
    end
    </pre></section>
<section id="troubleshooting">
<h3>1.4.&nbsp;&nbsp;Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Po zadání adresy do prohlížeče prohlížeč nic nezobrazuje</p>
<ul>
<li><p>Ujistěte se, že běží server nginx</p></li>
<li><p>Ujistěte se, že sou správně nastaveny DNS záznamy k doméně. Pomocí příkazu <code class="docutils literal notranslate"><span class="pre">ping</span> <span class="pre">example.com</span></code> můžete zkontrolovat, zda-li doména odkazuje na správnou IP adresu.</p></li>
</ul>
</li>
<li><p>Po zadání adresy do prohlížeče vrací server nginx chybu <code class="docutils literal notranslate"><span class="pre">502</span> <span class="pre">Bad</span> <span class="pre">Gateway</span></code></p>
<ul>
<li><p>Spojení na gunicorn server se nezdařilo, zkontrolujte zda:</p>
<ul>
<li><p>Běží server gunicorn.</p></li>
<li><p>Je v nginx nakonfigurován <code class="docutils literal notranslate"><span class="pre">proxy_pass</span></code> na gunicorn server.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Na stránce nejsou zobrazeny statické nebo media soubory</p>
<ul>
<li><p>Pokud server vrací chybu <code class="docutils literal notranslate"><span class="pre">404</span> <span class="pre">Not</span> <span class="pre">Found</span></code>:</p>
<ul>
<li><p>Zkontrolujte, zda-li jsou správně nastaveny cesty ke statickým a media souborům v konfiguračním souboru nginx. Můžete se také podívat do error logu serveru nginx (obvykle v <code class="docutils literal notranslate"><span class="pre">/var/log/nginx/error.log</span></code>), zda-li server nehlásí nějaké chyby.</p></li>
</ul>
</li>
<li><p>Pokud server vrací chybu <code class="docutils literal notranslate"><span class="pre">403</span> <span class="pre">Forbidden</span></code>:</p>
<ul>
<li><p>Pravděpodobně nemá server nginx dostatečná oprávnění ke čtení složky s media nebo statickými soubory.</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Služba gunicorn nestartuje, <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">systemctl</span> <span class="pre">status</span> <span class="pre">gunicorn</span></code> zobrazuje chybu <code class="docutils literal notranslate"><span class="pre">gunicorn.service:</span> <span class="pre">Changing</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">requested</span> <span class="pre">working</span> <span class="pre">directory</span> <span class="pre">failed:</span> <span class="pre">Permission</span> <span class="pre">denied</span></code>.</p>
<ul>
<li><p>Uživatel, který spouští službu gunicorn (<code class="docutils literal notranslate"><span class="pre">www-data</span></code>) nemá přístup do adresáře projektu.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="google-cloud">
<h2>2.&nbsp;&nbsp;Google Cloud<a class="headerlink" href="#google-cloud" title="Link to this heading">#</a></h2>
<p>Google Cloud nabízí robustní a škálovatelné prostředí pro nasazení nejen Django aplikací.</p>
<p>Nejprve se přihlaste do <a class="reference external" href="https://console.cloud.google.com">Google Cloud Console</a> a vytvořte nový projekt. Na stránce <a class="reference external" href="https://cloud.google.com/python/django">Getting started with Django</a> naleznete několik návodů, jak Django aplikaci spustit.</p>
<p>Služba Google Cloud je placená, nicméně nabízí startovní kredit, který je možné využít na vyzkoušení.</p>
</section>
<section id="pouziti-svs">
<h2>3.&nbsp;&nbsp;Použití SVS<a class="headerlink" href="#pouziti-svs" title="Link to this heading">#</a></h2>
<p>SVS (Studentský vývojový server) je server spravovaný studenty Gymnázia Arabská. Základní informace o SVS naleznete na adrese <a class="reference external" href="https://svs.gyarab.cz">https://svs.gyarab.cz</a>.</p>
<p>Návod jak spustit Django aplikaci naleznete zde:</p>
<p><a class="reference external" href="https://gist.github.com/kristiankunc/cc58b0d963d3a528f184c8863ce7a5fd">https://gist.github.com/kristiankunc/cc58b0d963d3a528f184c8863ce7a5fd</a></p>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="10_sessions.html"
       title="předchozí stránka">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">předchozí</p>
        <p class="prev-next-title">Cookies, sessions a uživatelé</p>
      </div>
    </a>
    <a class="right-next"
       href="../5_protocols/01_http.html"
       title="další stránka">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">další</p>
        <p class="prev-next-title">HTTP</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Obsah
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#nginx-gunicorn-postgresql">NGINX + gunicorn + PostgreSQL</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nginx">NGINX</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gunicorn">gunicorn</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#gunicorn-demon">gunicorn démon</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#postgresql">PostgreSQL</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#google-cloud">Google Cloud</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pouziti-svs">Použití SVS</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
Podle kf
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024, kf..
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>